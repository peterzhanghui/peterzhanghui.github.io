---
title: vim 常用操作
date: 2017-10-16
tags: vim
---

> 总结使用 vim 编辑文件的常用操作，后面会持续更新

## 创建编辑文件

1. 使用 vim （vi） + 文件名进入文件（如果文件名不存在则默认为新建）
2. 进入文件后，在英文状态下输入 i(insert)，进入编辑模式。
3. 需要保存退出的时候先点 esc(英文状态下)退出插入模式。再输入 shift+：进入命令模式。

### 对于文件是否有改动分情况对应操作

- 文件无改动输入 q 回车
- 文件有改动 wq+回车，或者 x+回车，就快捷键按过 esc 之后直接按 shift+ZZ；
- 有改动但是不保存，先按 ESC，再输入冒号，在输入命令时，直接输入"q!" 强制退出！

## 复制

复制的命令是 y，即 yank（提起） ，常用的命令如下：
y 在使用 v 模式选定了某一块的时候，复制选定块到缓冲区用；
全部复制：按 esc 后，然后 ggyG
yy: 复制单行

## 剪切

剪切的命令是 d，即 delete，d 与 y 命令基本类似，所以两个命令用法一样，包括含有数字的用法.  
 d 剪切选定块到缓冲区；

## 粘贴

粘贴的命令式 p，即 put（放下）
p 小写 p 代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面

## 删除

dd:删除游标所在的一整行(常用)
ndd:n 为数字。删除光标所在的向下 n 行，例如 20dd 则是删除光标所在的向下 20 行
d1G:删除光标所在到第一行的所有数据
dG:删除光标所在到最后一行的所有数据
d$:删除光标所在处，到该行的最后一个字符
d0:那个是数字 0,删除光标所在到该行的最前面的一个字符
x,X:x 向后删除一个字符(相当于[del]按键),X 向前删除一个字符(相当于[backspace]即退格键)
nx:n 为数字，连续向后删除 n 个字符
全部删除：按 esc 后，然后 dG

## 撤销操作

在复制粘贴时，另一组常用的命令是 u（撤销操作），U（撤销某一行最近所有修改），Ctrl+R（重做），这些功能主要是 vim 中的，vi 中略有差别

## 全局替换

如想把所有的 buyer 换成 seller

```
%s/buyer/seller/g
```

## 其他常用操作

全选（高亮显示）：按 esc 后，然后 ggvG 或者 ggVG

gg：是让光标移到首行，在 vim 才有效，vi 中无效
v ： 是进入 Visual(可视）模式
G ：光标移到最后一行
